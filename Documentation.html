<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style type="text/css">
.centerer {
	text-align: center;
}
</style>
</head>

<body>
<p class="centerer" dir="ltr"><strong>Computer Graphics Assignment-2</strong></p>
<p class="centerer" dir="ltr">by </p>
<p class="centerer" dir="ltr">Mudit Pandey - 2014A7PS017H</p>

<p class="centerer" dir="ltr">Sagar Gupta - 2014A7PS030H</p>
<p class="centerer" dir="ltr">Vedic Sharma - 2014B4A7424H</p>
<p class="centerer" dir="ltr"><strong>3D Classroom Design with Camera in OpenGL</strong></p>
<p class="centerer" dir="ltr">_________________________________________________________</p>
<p dir="ltr"> </p>
<p dir="ltr">In this assignment, we have created a classroom scene and implemented our own camera. We have implemented the camera in two modes:</p>
<ul>
  <li dir="ltr">
    <p dir="ltr">In the perspective of a student (which we call restricted camera)</p>
  </li>
  <li dir="ltr">
    <p dir="ltr">And a free camera<br />
</p>
  </li>
</ul>
<p dir="ltr">The restricted camera is basically the camera in the first-person view of a student. This only allows for the eye to remain at a fixed height unless the student sits or jumps. This also does not allow the camera to move through objects and walls.<br />
</p>
<p dir="ltr">Free camera as the name suggests, does not have restrictions of any sort.</p>
<p dir="ltr"> </p>
<p dir="ltr">Our whole code can be divided into separate parts</p>
<ul>
  <li dir="ltr">
    <p dir="ltr">Scene and Objects</p>
  </li>
  <ul>
    <li dir="ltr">
      <p dir="ltr">Room</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Student table</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Teacher table</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Chair</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Door</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Blackboard </p>
    </li>
  </ul>
  <li dir="ltr">
    <p dir="ltr">Camera</p>
  </li>
  <ul>
    <li dir="ltr">
      <p dir="ltr">Setting the camera</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Translation</p>
    </li>
    <ul>
      <li dir="ltr">
        <p dir="ltr">restricted</p>
      </li>
      <li dir="ltr">
        <p dir="ltr">free</p>
      </li>
    </ul>
    <li dir="ltr">
      <p dir="ltr">Rotation</p>
    </li>
    <ul>
      <li dir="ltr">
        <p dir="ltr">Master</p>
      </li>
      <li dir="ltr">
        <p dir="ltr">Yaw</p>
      </li>
      <li dir="ltr">
        <p dir="ltr">Pitch</p>
      </li>
      <li dir="ltr">        Roll<br />
        <br />
</li>
    </ul>
  </ul>
  <li>Effects and Controls</p>
  </li>
</ul>
<ul>
  <ul>
    <li dir="ltr">
      <p dir="ltr">Mouse movement rotations</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Zoom</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Stationary jump</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Jump on/over objects</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Camera landing effects</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Sitting on chairs</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Anti-gravity</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Free Camera</p>
    </li>
    <li dir="ltr">
      <p dir="ltr">Can&rsquo;t pass through objects or walls<br />
</p>
    </li>
  </ul>
</ul>
<p dir="ltr"><strong>Scene and Objects</strong><br />
</p>
<p dir="ltr">The classroom scene is implemented using openGL primitives - quads and vertices. All objects of the scene are created by manipulating cubes and quads. No textures were used in creating the scene objects. Simple solid colors were used.<br />
</p>
<p dir="ltr">The scene contains 26 objects of which 12 are student desks, 12 are chairs and 1 teacher&rsquo;s desk and 1 classroom enclosing box. The scene also contains non-interactable objects such as the door and blackboard.<br />
</p>
<p dir="ltr"><strong>Camera</strong><br />
</p>
<p dir="ltr"> Since we&rsquo;ve implemented our own camera, we have made a separate class for all data and functions relating to the camera.<br />
</p>
<ul>
  <li dir="ltr">
    <p dir="ltr">The camera class contains two constructor calls. The first one calculates the u, v, n vectors from the eye, up and look vectors. The seconds one calculate from the parameters passed.<br />
      <br />
    </p>
  </li>
  <li dir="ltr">
    <p dir="ltr">The rotate function takes in three parameters: pitch, yaw and roll. It calculates the new values of u, v, n and updates the matrix stack.<br />
      <br />
    </p>
  </li>
  <li dir="ltr">
    <p dir="ltr">Roll, Pitch, and Yaw functions rotate the camera by the specified angle in the anticlockwise direction<br />
      <br />
    </p>
  </li>
</ul>
<ul>
  <li dir="ltr">
    <p dir="ltr">The Slide function works differently in each of the camera modes. In the restricted mode, the slide function doesn&rsquo;t allow the camera to change height and also doesn&rsquo;t allow the camera to move through objects in order to simulate first-person view of a student.In case of free mode, there is no such restriction.<br />
      <br />
    </p>
  </li>
  <li dir="ltr">
    <p dir="ltr">The eyeComponent function returns the eye component 1 for &lsquo;x&rsquo;, 2 for &lsquo;y&rsquo;, 3 for &lsquo;z&rsquo;<br />
      <br />
    </p>
  </li>
  <li dir="ltr">
    <p dir="ltr">The changeComponent changes the eye component to the value passed.<br />
      <br />
</p>
  </li>
</ul>
<ul>
  <li dir="ltr">
    <p dir="ltr">The setShape function sets the projection matrix for the scene. It takes in parameters: Viewing angle,aspect ratio z-coordinate of near plane and z-coordinate of far plane.<br />
    </p>
  </li>
</ul>
<ul>
  <li dir="ltr">
    <p dir="ltr">checkInside function checks for intersection with the objects or the walls. If there is an intersection, then the function returns true. Otherwise, it returns false. All the objects are taken as cuboids and the function just checks if the eye is inside the cuboid.<br />
      <br />
    </p>
  </li>
  <li dir="ltr">
    <p dir="ltr">The function to sit and stand is the interact function. If the eye is close enough to a chair, then the camera is instantly moved to the center of the chair and a lower height. The camera u, v, n vectors are then changed to see front. A boolean value stores if the player is sitting or not. Calling the function again will move the camera to the original position but with the same direction of u, v, n changed while sitting.<br />
      <br />
    </p>
  </li>
  <li dir="ltr">
    <p dir="ltr">The setsetting function changes the camera setting to either free or restricted depending on the boolean value passed. <br />
</p>
  </li>
</ul>
<p dir="ltr"><strong>Effects and Controls</strong><br />
</p>
<p dir="ltr"> The player can move around the scene by using the &lsquo;w&rsquo; (forward), &lsquo;s&rsquo; (backward), &lsquo;a&rsquo; (left), &lsquo;d&rsquo; (right). For this, the slide function in the camera class is called and the translation is done accordingly</p>
<p dir="ltr"> </p>
<p dir="ltr">Left-click of the mouse allows the player to zoom in and the right click will zoom out.<br />
  <br />
</p>
<p dir="ltr"> The player can also look around without translating to get a full 360 degree view. The roll, pitch, and yaw are stored in global variables. Every time, the mouse is moved, the new value is stored in a global variable. In every 10 milliseconds, a function looks at this value, calculates the required rotation and calls the master rotation function passing the roll, pitch and yaw values. The mouse is then set to the center of the window.<br />
  <br />
</p>
<p dir="ltr"> Jumping is a basic command and is included in this as a command. A player can use the spacebar, to jump. The jump function is called every 10 milliseconds until the eye reaches the standing height position (or the anti-gravity stand position). The player can also jump on objects by pressing the spacebar and moving with the &lsquo;w&rsquo;, &lsquo;a&rsquo;, &lsquo;s&rsquo;, &lsquo;d&rsquo; keys. It is not possible to jump while sitting nor while on a table/chair.<br />
  <br />
</p>
<p dir="ltr"> On landing, after jumping, the player can see a small shutter with the camera. This effect is not necessary, but makes the jump look a bit more realistic. This was achieved by a small repeated rolling of the camera from one side to the other.</p>
<p dir="ltr"> </p>
<p dir="ltr"> In the scene, there are 12 chairs. The player can sit on any one of the chairs by pressing the &lsquo;e&rsquo; key. The camera is instantly moved to the center of the chair and a lower height. The camera u, v, n vectors are then changed to see front. Pressing the &lsquo;e&rsquo; key again will move the camera to the original position but with the same direction of u, v, n changed while sitting.<br />
  <br />
</p>
<p dir="ltr"> The objects cannot be passed through. In other words, the player cannot go through the chairs/tables nor the walls of the classroom. <br />
  <br />
</p>
<p dir="ltr"> Anti-gravity is another great feature in this program. The camera rolls 180 degrees and moves up towards the ceiling. This makes the effect of walking on the ceiling. What truly makes this an anti-gravity is the jump. The player can jump from the ceiling and will return back to the ceiling. The jump function was achieved by negating the gravity. The camera mouse movements were also flipped to achieve the desired effect. <br />
  <br />
</p>
</body>
</html>
